<!-- frontend/src/app/components/change-password-modal/change-password-modal.component.html -->
<app-modal [modalId]="'changePasswordModal'" [modalTitle]="'Change Your Password'">
  <form [formGroup]="passwordForm" (ngSubmit)="onSubmit()" class="space-y-6">
    <!-- UPDATED: Use new global form classes -->
    <div class="form-group">
      <label for="newPassword" class="form-label">New Password</label>
      <input
        type="password"
        id="newPassword"
        formControlName="newPassword"
        class="form-control"
        [ngClass]="{ 'is-invalid': passwordForm.get('newPassword')?.invalid && passwordForm.get('newPassword')?.touched }"
      />
      <!-- UPDATED: Use .form-error class -->
      <div *ngIf="passwordForm.get('newPassword')?.invalid && (passwordForm.get('newPassword')?.dirty || passwordForm.get('newPassword')?.touched)" class="form-error">
        <div *ngIf="passwordForm.get('newPassword')?.errors?.['required']">Password is required.</div>
        <div *ngIf="passwordForm.get('newPassword')?.errors?.['minlength']">Password must be at least 8 characters long.</div>
      </div>
    </div>

    <div class="form-actions">
      <!-- UPDATED: Use global .btn classes -->
      <button type="button" (click)="closeModal()" class="btn btn-secondary">Cancel</button>
      <button type="submit" class="btn btn-primary" [disabled]="passwordForm.invalid || isLoading">
        <span *ngIf="!isLoading">Update Password</span>
        <span *ngIf="isLoading">Updating...</span>
      </button>
    </div>
  </form>
</app-modal>
